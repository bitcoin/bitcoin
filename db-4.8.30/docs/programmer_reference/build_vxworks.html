<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Chapter 30.  Building Berkeley DB for VxWorks</title>
    <link rel="stylesheet" href="gettingStarted.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="start" href="index.html" title="Berkeley DB Programmer's Reference Guide" />
    <link rel="up" href="index.html" title="Berkeley DB Programmer's Reference Guide" />
    <link rel="prev" href="build_wince_faq.html" title="Windows CE/Mobile FAQ" />
    <link rel="next" href="build_vxworks_intro6x.html" title="Building for VxWorks 6.x" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">Chapter 30. 
        Building Berkeley DB for VxWorks
        </th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="build_wince_faq.html">Prev</a> </td>
          <th width="60%" align="center"> </th>
          <td width="20%" align="right"> <a accesskey="n" href="build_vxworks_intro6x.html">Next</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="chapter" lang="en" xml:lang="en">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a id="build_vxworks"></a>Chapter 30. 
        Building Berkeley DB for VxWorks
        </h2>
          </div>
        </div>
      </div>
      <div class="toc">
        <p>
          <b>Table of Contents</b>
        </p>
        <dl>
          <dt>
            <span class="sect1">
              <a href="build_vxworks.html#build_vxworks_intro">Building for VxWorks 5.4 and 5.5</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect2">
                  <a href="build_vxworks.html#id1634577">Building With Tornado 2.0 or Tornado 2.2</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="sect1">
              <a href="build_vxworks_intro6x.html">Building for VxWorks 6.x</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect2">
                  <a href="build_vxworks_intro6x.html#id1634680">Building With Wind River Workbench using the Makefile</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="sect1">
              <a href="build_vxworks_notes.html">VxWorks notes</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect2">
                  <a href="build_vxworks_notes.html#id1634647">Building and Running the Demo Program</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="build_vxworks_notes.html#id1634846">Building and Running the Utility Programs</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="build_vxworks_notes.html#id1634749">VxWorks 5.4/5.5: shared memory</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="build_vxworks_notes.html#id1634867">VxWorks 5.4/5.5: building a small memory footprint library</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="sect1">
              <a href="build_vxworks_faq.html">VxWorks FAQ</a>
            </span>
          </dt>
        </dl>
      </div>
      <div class="sect1" lang="en" xml:lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both"><a id="build_vxworks_intro"></a>Building for VxWorks 5.4 and 5.5</h2>
            </div>
          </div>
        </div>
        <div class="toc">
          <dl>
            <dt>
              <span class="sect2">
                <a href="build_vxworks.html#id1634577">Building With Tornado 2.0 or Tornado 2.2</a>
              </span>
            </dt>
          </dl>
        </div>
        <p>The build_vxworks directory in the Berkeley DB distribution contains a workspace
and project files for Tornado 2.0/VxWorks 5.4 and Tornado 2.2/VxWorks 5.5.</p>
        <div class="informaltable">
          <table border="1" width="80%">
            <colgroup>
              <col />
              <col />
            </colgroup>
            <thead>
              <tr>
                <th>File</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td align="left">BerkeleyDB20.wsp</td>
                <td align="left">Berkeley DB Workspace file for Tornado 2.0</td>
              </tr>
              <tr>
                <td align="left">BerkeleyDB20.wpj</td>
                <td align="left">Berkeley DB Project file for Tornado 2.0</td>
              </tr>
              <tr>
                <td align="left">BerkeleyDB22.wsp</td>
                <td align="left">Berkeley DB Workspace file for Tornado 2.2</td>
              </tr>
              <tr>
                <td align="left">BerkeleyDB22.wpj</td>
                <td align="left">Berkeley DB Project file for Tornado 2.2</td>
              </tr>
              <tr>
                <td align="left">dbdemo/dbdemo20.wpj</td>
                <td align="left"><a class="xref" href="build_vxworks_notes.html" title="VxWorks notes">VxWorks notes</a> project file for Tornado 2.0</td>
              </tr>
              <tr>
                <td align="left">dbdemo/dbdemo22.wpj</td>
                <td align="left"><a class="xref" href="build_vxworks_notes.html" title="VxWorks notes">VxWorks notes</a> project file for Tornado 2.2</td>
              </tr>
              <tr>
                <td align="left">db_*/*20.wpj</td>
                <td align="left"><a class="xref" href="build_vxworks_notes.html" title="VxWorks notes">VxWorks notes</a> project files for Tornado 2.0</td>
              </tr>
              <tr>
                <td align="left">db_*/*22.wpj</td>
                <td align="left"><a class="xref" href="build_vxworks_notes.html" title="VxWorks notes">VxWorks notes</a> project files for Tornado 2.2</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="id1634577"></a>Building With Tornado 2.0 or Tornado 2.2</h3>
              </div>
            </div>
          </div>
          <p>Open the workspace <span class="bold"><strong>BerkeleyDB20.wsp</strong></span> or <span class="bold"><strong>BerkeleyDB22.wsp</strong></span>.
The list of projects in this workspace will be shown.  These projects
were created for the x86 BSP for VxWorks.</p>
          <p>The remainder of this document assumes that you already have a VxWorks
target and a target server, both up and running.  It also assumes that
your VxWorks image is configured properly for your needs.  It also
assumes that you have an acceptable file system already available.
See <a class="xref" href="build_vxworks_faq.html" title="VxWorks FAQ">VxWorks FAQ</a> for more
information about file system requirements.
See <a class="xref" href="build_vxworks_notes.html" title="VxWorks notes">VxWorks notes</a> for more
information about building a small footprint version of Berkeley DB.</p>
          <p>First, you need to set the include directories.  To do this, go to the
<span class="emphasis"><em>Builds</em></span> tab for the workspace.  Open up <span class="emphasis"><em>Berkeley DB
Builds</em></span>.  You will see several different builds, containing different
configurations.  All of the projects in the Berkeley DB workspace are created
to be downloadable applications.</p>
          <div class="informaltable">
            <table border="1" width="80%">
              <colgroup>
                <col />
                <col />
              </colgroup>
              <thead>
                <tr>
                  <th>Build</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td align="left">PENTIUM_debug</td>
                  <td align="left">x86 BSP with debugging</td>
                </tr>
                <tr>
                  <td align="left">PENTIUM_release</td>
                  <td align="left">x86 BSP no debugging</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p>You have to add a new build specification if you use a
different BSP, want to add a build for the simulator or
want to customize further.  For instance, if you have the Power PC (PPC)
BSP, you need to add a new build for the PPC tool chain.  To do so,
select the "Builds" tab, select the Berkeley DB project name, and right-click.
Choose the <span class="emphasis"><em>New Build...</em></span> selection and create the new build
target.  For your new build target, you need to decide whether
it should be built for
debugging.  See the properties of the Pentium builds for ways to
configure for each case.  After you add this build you, you still need
to configure correctly the include directories, as described in the
sections that follow.</p>
          <p>If you are running with a different
BSP, you should remove the build specifications that do not apply to
your hardware.  We recommend that you do this after you configure any
new build specifications first.  The Tornado tools will get confused if
you have a PENTIUMgnu build specification for a PPC BSP,
for instance.</p>
          <p>Select the build you are interested in, and right-click.  Choose the
<span class="emphasis"><em>Properties...</em></span> selection.  At this point, a tabbed dialog
should appear.  In this new window, choose the <span class="emphasis"><em>C/C++ compiler</em></span>
tab.  In the edit box, you need to modify the full pathname of the
<span class="emphasis"><em>build_vxworks</em></span> subdirectory of Berkeley DB, followed by the full
pathname of Berkeley DB.  Then, click OK.
Note that some versions of Tornado (such as the version for Windows)
do not correctly handle relative pathnames in the include paths.</p>
          <p>To build and download the Berkeley DB downloadable application for the first time
requires several steps: </p>
          <div class="orderedlist">
            <ol type="1">
              <li>Select the build you are interested in, and right-click.  Choose the
<span class="emphasis"><em>Set... as Active Build</em></span> selection.</li>
              <li>Select the build you are interested in, and right-click.  Choose the
<span class="emphasis"><em>Dependencies...</em></span> selection.  Run dependencies over all files
in the Berkeley DB project.</li>
              <li>Select the build you are interested in, and right-click.  Choose the
<span class="emphasis"><em>Rebuild All (Berkeley DB.out)</em></span> selection.</li>
              <li>Select the Berkeley DB project name, and right-click.  Choose the
<span class="emphasis"><em>Download "Berkeley DB.out"</em></span> selection.</li>
            </ol>
          </div>
          <p>Note that the output file listed about will really be listed as
<span class="emphasis"><em>BerkeleyDB20.out</em></span> or <span class="emphasis"><em>BerkeleyDB22.out</em></span>
depending on which version of Tornado you are running.
You need to repeat this procedure for all builds you are interested in
building, as well as for all of the utility project builds you want to
run.</p>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="build_wince_faq.html">Prev</a> </td>
          <td width="20%" align="center"> </td>
          <td width="40%" align="right"> <a accesskey="n" href="build_vxworks_intro6x.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">Windows CE/Mobile FAQ </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> Building for VxWorks 6.x</td>
        </tr>
      </table>
    </div>
  </body>
</html>
