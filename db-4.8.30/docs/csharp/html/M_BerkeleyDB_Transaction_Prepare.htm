<html xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Prepare Method </title><link rel="stylesheet" type="text/css" href="../styles/presentation.css" /><link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css" /><script type="text/javascript" src="../scripts/EventUtilities.js"> </script><script type="text/javascript" src="../scripts/SplitScreen.js"> </script><script type="text/javascript" src="../scripts/Dropdown.js"> </script><script type="text/javascript" src="../scripts/script_manifold.js"> </script><script type="text/javascript" src="../scripts/script_feedBack.js"> </script><script type="text/javascript" src="../scripts/CheckboxMenu.js"> </script><script type="text/javascript" src="../scripts/CommonUtilities.js"> </script><meta name="container" content="BerkeleyDB" /><meta name="file" content="M_BerkeleyDB_Transaction_Prepare" /><meta name="guid" content="M_BerkeleyDB_Transaction_Prepare" /><xml><MSHelp:Attr Name="AssetID" Value="M:BerkeleyDB.Transaction.Prepare(System.Byte[])" /><MSHelp:TOCTitle Title="Prepare Method " /><MSHelp:RLTitle Title="Transaction.Prepare Method  (BerkeleyDB)" /><MSHelp:Keyword Index="A" Term="M:BerkeleyDB.Transaction.Prepare(System.Byte[])" /><MSHelp:Keyword Index="A" Term="frlrfBerkeleyDBTransactionClassPrepareTopic" /><MSHelp:Keyword Index="K" Term="Prepare method" /><MSHelp:Keyword Index="K" Term="Transaction.Prepare method" /><MSHelp:Keyword Index="F" Term="Prepare" /><MSHelp:Keyword Index="F" Term="Transaction.Prepare" /><MSHelp:Keyword Index="F" Term="BerkeleyDB.Transaction.Prepare" /><MSHelp:Attr Name="APIType" Value="Managed" /><MSHelp:Attr Name="APILocation" Value="libdb_dotnet48.dll" /><MSHelp:Attr Name="APIName" Value="BerkeleyDB.Transaction.Prepare" /><MSHelp:Attr Name="DevLang" Value="CSharp" /><MSHelp:Attr Name="DevLang" Value="VB" /><MSHelp:Attr Name="DevLang" Value="C++" /><MSHelp:Attr Name="Locale" Value="en-us" /><MSHelp:Attr Name="TopicType" Value="kbSyntax" /><MSHelp:Attr Name="TopicType" Value="apiref" /><MSHelp:Attr Name="Abstract" Value="Initiate the beginning of a two-phase commit." /><MSHelp:Attr Name="AssemblyVersion" Value="4.8.24.0" /></xml></head><body><input type="hidden" id="userDataCache" class="userDataStyle" /><input type="hidden" id="hiddenScrollOffset" /><img id="collapseImage" style="display:none; height:0; width:0;" src="../icons/collapse_all.gif" title="Collapse image" /><img id="expandImage" style="display:none; height:0; width:0;" src="../icons/expand_all.gif" title="Expand Image" /><img id="collapseAllImage" style="display:none; height:0; width:0;" src="../icons/collapse_all.gif" /><img id="expandAllImage" style="display:none; height:0; width:0;" src="../icons/expand_all.gif" /><img id="dropDownImage" style="display:none; height:0; width:0;" src="../icons/dropdown.gif" /><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../icons/dropdownHover.gif" /><img id="copyImage" style="display:none; height:0; width:0;" src="../icons/copycode.gif" title="Copy image" /><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../icons/copycodeHighlight.gif" title="CopyHover image" /><div id="header"><table id="topTable" cellspacing="0" cellpadding="0"><tr><td><span onclick="ExpandCollapseAll(toggleAllImage)" style="cursor:default;" onkeypress="ExpandCollapseAll_CheckKey(toggleAllImage, event)" tabindex="0"><img ID="toggleAllImage" class="toggleAll" src="../icons/collapse_all.gif" /> <label id="collapseAllLabel" for="toggleAllImage" style="display: none;">Collapse All</label><label id="expandAllLabel" for="toggleAllImage" style="display: none;">Expand All</label> </span><span>    </span><span id="devlangsDropdown" class="filter" tabindex="0"><img id="devlangsDropdownImage" src="../icons/dropdown.gif" /> <label id="devlangsMenuAllLabel" for="devlangsDropdownImage" style="display: none;"><nobr>Code: All </nobr></label><label id="devlangsMenuMultipleLabel" for="devlangsDropdownImage" style="display: none;"><nobr>Code: Multiple </nobr></label><label id="devlangsMenuCSharpLabel" for="devlangsDropdownImage" style="display: none;"><nobr>Code: C# </nobr></label><label id="devlangsMenuVisualBasicLabel" for="devlangsDropdownImage" style="display: none;"><nobr>Code: Visual Basic </nobr></label><label id="devlangsMenuManagedCPlusPlusLabel" for="devlangsDropdownImage" style="display: none;"><nobr>Code: Visual C++ </nobr></label></span></td></tr></table><div id="devlangsMenu"><input id="CSharpCheckbox" type="checkbox" data="CSharp,cs,'persist'" value="on" onClick="SetLanguage(this)" /><label class="checkboxLabel" for="CSharpCheckbox">C#</label><br /><input id="VisualBasicCheckbox" type="checkbox" data="VisualBasic,vb,'persist'" value="on" onClick="SetLanguage(this)" /><label class="checkboxLabel" for="VisualBasicCheckbox">Visual Basic</label><br /><input id="ManagedCPlusPlusCheckbox" type="checkbox" data="ManagedCPlusPlus,cpp,'persist'" value="on" onClick="SetLanguage(this)" /><label class="checkboxLabel" for="ManagedCPlusPlusCheckbox">Visual C++</label><br /></div><table id="bottomTable" cellpadding="0" cellspacing="0"><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText">Berkeley DB .NET API Documentation</span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">Transaction<span class="languageSpecificText"><span class="cs">.</span><span class="vb">.</span><span class="cpp">::</span><span class="nu">.</span></span>Prepare Method </span></td></tr><tr id="headerTableRow3"><td align="left"><a href="T_BerkeleyDB_Transaction.htm">Transaction Class</a>  <a href="#seeAlsoToggle" onclick="OpenSection(seeAlsoToggle)">See Also</a>  
  <span id="headfeedbackarea" class="feedbackhead">
      <a href="javascript:SubmitFeedback('','','','','','','Customer%20Feedback');">
        
        
      </a>
	</span>
</td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()" /><span style="color: DarkGray"> </span><div class="summary">
            Initiate the beginning of a two-phase commit.
            </div><p />
    <b>Namespace:</b> 
   <a href="N_BerkeleyDB.htm">BerkeleyDB</a><br />
    <b>Assembly:</b>
   <span sdata="assembly">libdb_dotnet48</span> (in libdb_dotnet48.dll) Version: 4.8.24.0<h1 class="heading"><span onclick="ExpandCollapse(syntaxToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(syntaxToggle, event)" tabindex="0"><img id="syntaxToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Syntax</span></h1><div id="syntaxSection" class="section" name="collapseableSection" style=""><div id="syntaxCodeBlocks" class="code"><span codeLanguage="CSharp"><table><tr><th>C#</th></tr><tr><td><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">void</span> <span class="identifier">Prepare</span>(
	<a href="http://msdn2.microsoft.com/en-us/library/yyb1w04y" target="_blank">byte</a>[] <span class="parameter">globalId</span>
)</pre></td></tr></table></span><span codeLanguage="VisualBasicDeclaration"><table><tr><th>Visual Basic (Declaration)</th></tr><tr><td><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Sub</span> <span class="identifier">Prepare</span> ( _
	<span class="parameter">globalId</span> <span class="keyword">As</span> <a href="http://msdn2.microsoft.com/en-us/library/yyb1w04y" target="_blank">Byte</a>() _
)</pre></td></tr></table></span><span codeLanguage="ManagedCPlusPlus"><table><tr><th>Visual C++</th></tr><tr><td><pre xml:space="preserve"><span class="keyword">public</span>:
<span class="keyword">void</span> <span class="identifier">Prepare</span>(
	<span class="keyword">array</span>&lt;<a href="http://msdn2.microsoft.com/en-us/library/yyb1w04y" target="_blank">unsigned char</a>&gt;^ <span class="parameter">globalId</span>
)</pre></td></tr></table></span></div><div id="parameters"><h4 class="subHeading">Parameters</h4><dl paramName="globalId"><dt><span class="parameter">globalId</span></dt><dd>Type: <span class="languageSpecificText"><span class="cpp">array&lt;</span></span>
            <a href="http://msdn2.microsoft.com/en-us/library/yyb1w04y" target="_blank">System<span class="languageSpecificText"><span class="cs">.</span><span class="vb">.</span><span class="cpp">::</span><span class="nu">.</span></span>Byte</a>
          <span class="languageSpecificText"><span class="cpp">&gt;</span><span class="cs">[]</span><span class="vb">()</span><span class="nu">[]</span></span><br />
            The global transaction ID by which this transaction will be known.
            This global transaction ID will be returned in calls to 
            <a href="M_BerkeleyDB_DatabaseEnvironment_Recover.htm">Recover(UInt32, Boolean)</a> telling the
            application which global transactions must be resolved.
            </dd></dl></div></div><h1 class="heading"><span onclick="ExpandCollapse(remarksToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(remarksToggle, event)" tabindex="0"><img id="remarksToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Remarks</span></h1><div id="remarksSection" class="section" name="collapseableSection" style="">
        <p>
            In a distributed transaction environment, Berkeley DB can be used as
            a local transaction manager. In this case, the distributed
            transaction manager must send prepare messages to each local
            manager. The local manager must then call Prepare and await its
            successful return before responding to the distributed transaction
            manager. Only after the distributed transaction manager receives
            successful responses from all of its prepare messages should it
            issue any commit messages.
            </p>
        <p>
            In the case of nested transactions, preparing the parent causes all
            unresolved children of the parent transaction to be committed. Child
            transactions should never be explicitly prepared. Their fate will be
            resolved along with their parent's during global recovery.
            </p>
      </div><h1 class="heading"><span onclick="ExpandCollapse(seeAlsoToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(seeAlsoToggle, event)" tabindex="0"><img id="seeAlsoToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />See Also</span></h1><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><a href="T_BerkeleyDB_Transaction.htm">Transaction Class</a></div><div class="seeAlsoStyle"><a href="N_BerkeleyDB.htm">BerkeleyDB Namespace</a></div></div></div><div id="footer"><div class="footerLine"><img width="100%" height="3px" src="../icons/footer.gif" title="Footer image" /></div><A NAME="feedback"></A><span id="fb" class="feedbackcss" style="display: none;"> </span>
Report Feedback on this item in the Oracle Technology Network Forum <p />Copyright (c) 1996-2009 Oracle. All rights reserved.</div></div></body></html>